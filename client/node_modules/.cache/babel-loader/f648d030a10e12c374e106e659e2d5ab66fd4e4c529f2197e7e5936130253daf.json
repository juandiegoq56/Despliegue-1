{"ast":null,"code":"var _jsxFileName = \"/home/juan/Desktop/Proyectos/Login jwt/client/src/App.js\";\nimport React from 'react';\nimport App3 from './Vistas/login';\nimport Dashboard from './Vistas/home';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction parseJwt(token) {\n  const base64Url = token.split('.')[1];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function (c) {\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n  return JSON.parse(jsonPayload);\n}\nlet tokenExistAndStillValid = parseJwt(localStorage.getItem('token')).exp * 1000 > Date.now();\nconst PrivateRoute = ({\n  element: Element,\n  ...rest\n}) => {\n  return tokenExistAndStillValid() ? /*#__PURE__*/_jsxDEV(Element, {\n    ...rest\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n};\n_c = PrivateRoute;\nconst Main = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: tokenExistAndStillValid ? /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 36\n    }, this) : /*#__PURE__*/_jsxDEV(App3, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 52\n    }, this)\n  }, void 0, false);\n};\n_c2 = Main;\nexport default Main;\nvar _c, _c2;\n$RefreshReg$(_c, \"PrivateRoute\");\n$RefreshReg$(_c2, \"Main\");","map":{"version":3,"names":["React","App3","Dashboard","BrowserRouter","Router","Route","Routes","Navigate","jsxDEV","_jsxDEV","Fragment","_Fragment","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","window","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","tokenExistAndStillValid","localStorage","getItem","exp","Date","now","PrivateRoute","element","Element","rest","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","Main","children","_c2","$RefreshReg$"],"sources":["/home/juan/Desktop/Proyectos/Login jwt/client/src/App.js"],"sourcesContent":["import React from 'react';\nimport App3 from './Vistas/login';\nimport Dashboard from './Vistas/home';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nfunction parseJwt (token) {\n  const base64Url = token.split('.')[1];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n\n  return JSON.parse(jsonPayload);\n}\n\nlet tokenExistAndStillValid = (parseJwt(localStorage.getItem('token')).exp * 1000 > Date.now());\n\nconst PrivateRoute = ({ element: Element, ...rest }) => {\n  return tokenExistAndStillValid() ? (\n    <Element {...rest} />\n  ) : (\n    <Navigate to='/login' replace />\n  );\n};\nconst Main = () => {\n  return (\n      <>{tokenExistAndStillValid ? <Dashboard /> : <App3 /> }</>\n      \n  );\n}\n\nexport default Main;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,gBAAgB;AACjC,OAAOC,SAAS,MAAM,eAAe;AACrC,SAASC,aAAa,IAAIC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AACpF,SAASC,QAAQA,CAAEC,KAAK,EAAE;EACxB,MAAMC,SAAS,GAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACrC,MAAMC,MAAM,GAAGF,SAAS,CAACG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EAC9D,MAAMC,WAAW,GAAGC,kBAAkB,CAACC,MAAM,CAACC,IAAI,CAACL,MAAM,CAAC,CAACD,KAAK,CAAC,EAAE,CAAC,CAACO,GAAG,CAAC,UAASC,CAAC,EAAE;IACjF,OAAO,GAAG,GAAG,CAAC,IAAI,GAAGA,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;EAChE,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;EAEZ,OAAOC,IAAI,CAACC,KAAK,CAACX,WAAW,CAAC;AAChC;AAEA,IAAIY,uBAAuB,GAAIlB,QAAQ,CAACmB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACC,GAAG,GAAG,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAE;AAE/F,MAAMC,YAAY,GAAGA,CAAC;EAAEC,OAAO,EAAEC,OAAO;EAAE,GAAGC;AAAK,CAAC,KAAK;EACtD,OAAOT,uBAAuB,CAAC,CAAC,gBAC9BrB,OAAA,CAAC6B,OAAO;IAAA,GAAKC;EAAI;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC,gBAErBlC,OAAA,CAACF,QAAQ;IAACqC,EAAE,EAAC,QAAQ;IAAC3B,OAAO;EAAA;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAChC;AACH,CAAC;AAACE,EAAA,GANIT,YAAY;AAOlB,MAAMU,IAAI,GAAGA,CAAA,KAAM;EACjB,oBACIrC,OAAA,CAAAE,SAAA;IAAAoC,QAAA,EAAGjB,uBAAuB,gBAAGrB,OAAA,CAACP,SAAS;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAGlC,OAAA,CAACR,IAAI;MAAAuC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC,gBAAI,CAAC;AAGhE,CAAC;AAAAK,GAAA,GALKF,IAAI;AAOV,eAAeA,IAAI;AAAC,IAAAD,EAAA,EAAAG,GAAA;AAAAC,YAAA,CAAAJ,EAAA;AAAAI,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}