{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useTokenValidation = () => {\n  _s();\n  const [isLogged, setIsLogged] = useState(false);\n  useEffect(() => {\n    const checkTokenExpiration = () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setIsLogged(false);\n      } else {\n        const tokenExpirationTime = parseJwt(token);\n        if (tokenExpirationTime < Date.now()) {\n          setIsLogged(false);\n        } else {\n          setIsLogged(true);\n        }\n      }\n    };\n    checkTokenExpiration();\n    const tokenCheckInterval = setInterval(checkTokenExpiration, 60000);\n    return () => clearInterval(tokenCheckInterval);\n  }, []);\n  return isLogged;\n};\n_s(useTokenValidation, \"dRlzShjuI4LWOFstjKjMBcwcjrM=\");\nexport default useTokenValidation;","map":{"version":3,"names":["useState","useEffect","useTokenValidation","_s","isLogged","setIsLogged","checkTokenExpiration","token","localStorage","getItem","tokenExpirationTime","parseJwt","Date","now","tokenCheckInterval","setInterval","clearInterval"],"sources":["/home/juan/Desktop/Proyectos/Login jwt/client/src/components/useUser.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useTokenValidation = () => {\n  const [isLogged, setIsLogged] = useState(false);\n\n  useEffect(() => {\n    const checkTokenExpiration = () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setIsLogged(false);\n      } else {\n        const tokenExpirationTime = parseJwt(token);\n        if (tokenExpirationTime < Date.now()) {\n          setIsLogged(false);\n        } else {\n          setIsLogged(true);\n        }\n      }\n    };\n\n    checkTokenExpiration();\n\n    const tokenCheckInterval = setInterval(checkTokenExpiration, 60000);\n    return () => clearInterval(tokenCheckInterval);\n  }, []);\n\n  return isLogged;\n};\n\nexport default useTokenValidation;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAE/CC,SAAS,CAAC,MAAM;IACd,MAAMK,oBAAoB,GAAGA,CAAA,KAAM;MACjC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAI,CAACF,KAAK,EAAE;QACVF,WAAW,CAAC,KAAK,CAAC;MACpB,CAAC,MAAM;QACL,MAAMK,mBAAmB,GAAGC,QAAQ,CAACJ,KAAK,CAAC;QAC3C,IAAIG,mBAAmB,GAAGE,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;UACpCR,WAAW,CAAC,KAAK,CAAC;QACpB,CAAC,MAAM;UACLA,WAAW,CAAC,IAAI,CAAC;QACnB;MACF;IACF,CAAC;IAEDC,oBAAoB,CAAC,CAAC;IAEtB,MAAMQ,kBAAkB,GAAGC,WAAW,CAACT,oBAAoB,EAAE,KAAK,CAAC;IACnE,OAAO,MAAMU,aAAa,CAACF,kBAAkB,CAAC;EAChD,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOV,QAAQ;AACjB,CAAC;AAACD,EAAA,CAzBID,kBAAkB;AA2BxB,eAAeA,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}