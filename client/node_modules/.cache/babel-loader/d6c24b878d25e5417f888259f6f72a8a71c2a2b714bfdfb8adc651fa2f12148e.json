{"ast":null,"code":"import { useState, useEffect } from 'react';\nfunction parseJwt(token) {\n  const base64Url = token.split('.')[1];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function (c) {\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n  return JSON.parse(jsonPayload);\n}\nconst useTokenValidation = () => {\n  let isLogged = false;\n  if (parseJwt(localStorage.getItem('token')).exp * 1000 > Date.now() !== true) {\n    isLogged = false;\n  } else {\n    isLogged = true;\n  }\n  return isLogged;\n};\nconst logout = () => {\n  localStorage.removeItem('token');\n};\nexport default {\n  useTokenValidation,\n  logout\n};","map":{"version":3,"names":["useState","useEffect","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","window","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","useTokenValidation","isLogged","localStorage","getItem","exp","Date","now","logout","removeItem"],"sources":["/home/juan/Desktop/Proyectos/Login jwt/client/src/components/useUser.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nfunction parseJwt (token) {\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n  \n    return JSON.parse(jsonPayload);\n  }\n  \n\n  const useTokenValidation = () => {\n    let isLogged=false;\n    if(parseJwt(localStorage.getItem('token')).exp * 1000 > Date.now()!==true){\n       isLogged=false;\n    }else{\n      isLogged=true\n    }\n    \n\n\n  \n    return isLogged;\n  };\n  const logout=()=>{\n    localStorage.removeItem('token')\n  }\n  \n  export default {useTokenValidation,logout};"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,QAAQA,CAAEC,KAAK,EAAE;EACtB,MAAMC,SAAS,GAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACrC,MAAMC,MAAM,GAAGF,SAAS,CAACG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EAC9D,MAAMC,WAAW,GAAGC,kBAAkB,CAACC,MAAM,CAACC,IAAI,CAACL,MAAM,CAAC,CAACD,KAAK,CAAC,EAAE,CAAC,CAACO,GAAG,CAAC,UAASC,CAAC,EAAE;IACjF,OAAO,GAAG,GAAG,CAAC,IAAI,GAAGA,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC;EAChE,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;EAEZ,OAAOC,IAAI,CAACC,KAAK,CAACX,WAAW,CAAC;AAChC;AAGA,MAAMY,kBAAkB,GAAGA,CAAA,KAAM;EAC/B,IAAIC,QAAQ,GAAC,KAAK;EAClB,IAAGnB,QAAQ,CAACoB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACC,GAAG,GAAG,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,KAAG,IAAI,EAAC;IACvEL,QAAQ,GAAC,KAAK;EACjB,CAAC,MAAI;IACHA,QAAQ,GAAC,IAAI;EACf;EAKA,OAAOA,QAAQ;AACjB,CAAC;AACD,MAAMM,MAAM,GAACA,CAAA,KAAI;EACfL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;AAClC,CAAC;AAED,eAAe;EAACR,kBAAkB;EAACO;AAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}